<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>₦1M Breakout Tracker</title>

<style>
:root{
  --text:#e5e7eb;
  --muted:#9ca3af;
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family:system-ui,Segoe UI,Arial,sans-serif;
  background:linear-gradient(135deg,#0f172a,#020617);
  color:var(--text);
  padding:24px;
}
h1{margin:0 0 6px 0;font-weight:800;}
.sub{color:var(--muted);margin-bottom:20px;}

.topbar{display:flex;flex-wrap:wrap;gap:16px;margin-bottom:18px;align-items:flex-end;}
.card{
  background:linear-gradient(180deg,#111827,#020617);
  border-radius:14px;
  padding:14px 18px;
  min-width:170px;
  box-shadow:0 10px 25px rgba(0,0,0,.4);
}
.card h3{margin:0;font-size:12px;font-weight:700;color:var(--muted);letter-spacing:.04em;}
.card .val{font-size:22px;margin-top:6px;font-weight:900;}

.progressWrap{margin:10px 0 6px 0;}
.progress{
  width:100%;height:12px;background:#020617;border-radius:999px;overflow:hidden;
  box-shadow:inset 0 0 0 1px rgba(255,255,255,.06);
}
.bar{
  height:100%;width:0%;
  background:linear-gradient(90deg,#22c55e,#4ade80);
  transition:width .35s ease;
}

button{
  background:linear-gradient(90deg,#38bdf8,#22c55e);
  border:none;border-radius:999px;
  padding:10px 18px;
  font-weight:900;cursor:pointer;color:#020617;
  box-shadow:0 8px 20px rgba(0,0,0,.4);
}
button:hover{opacity:.92}

table{width:100%;border-collapse:separate;border-spacing:0 8px;}
thead th{text-align:center;font-size:12px;color:var(--muted);font-weight:800;padding:6px;}
tbody tr{
  background:linear-gradient(180deg,#111827,#020617);
  border-radius:12px;
  box-shadow:0 6px 16px rgba(0,0,0,.35);
}
tbody td{padding:10px 6px;text-align:center;}
tbody tr td:first-child{border-top-left-radius:12px;border-bottom-left-radius:12px;}
tbody tr td:last-child{border-top-right-radius:12px;border-bottom-right-radius:12px;}

input, select{
  width:110px;background:#020617;border:1px solid rgba(255,255,255,.10);
  color:var(--text);border-radius:8px;padding:6px 8px;
}
.note input{width:160px;}
.odds input{width:85px;}

.badge{
  padding:4px 10px;border-radius:999px;font-size:11px;font-weight:900;display:inline-block;
}
.badge.win{background:rgba(34,197,94,.18);color:#86efac;}
.badge.loss{background:rgba(239,68,68,.18);color:#fca5a5;}
.badge.be{background:rgba(56,189,248,.18);color:#7dd3fc;}
</style>
</head>

<body>
  <h1>₦1M Breakout Tracker</h1>
  <div class="sub">Headies & Harry · ₦1,000,000 starting capital · Breakeven after first 10 wins</div>

  <div class="topbar">
    <div class="card">
      <h3>Total Played Days</h3>
      <div class="val" id="totalBets">0</div>
    </div>

    <div class="card">
      <h3>Total Wins (Overall)</h3>
      <div class="val" id="totalWins">0</div>
    </div>

    <div class="card">
      <h3>Headies Win Rate</h3>
      <div class="val" id="headiesWinRate">0%</div>
    </div>

    <div class="card">
      <h3>Harry Win Rate</h3>
      <div class="val" id="harryWinRate">0%</div>
    </div>

    <div class="card">
      <h3>Wins to Breakeven</h3>
      <div class="val" id="breakevenWins">0 / 10</div>
      <div class="progressWrap">
        <div class="progress"><div class="bar" id="beBar"></div></div>
      </div>
    </div>

    <div class="card">
      <h3>Current Balance</h3>
      <div class="val">₦<span id="currentBalance">1,000,000</span></div>
    </div>

    <button id="addBtn" type="button">+ Add Game Day</button>
  </div>

  <table id="tracker">
    <thead>
      <tr>
        <th>#</th>
        <th>Date</th>
        <th>Headies Stake</th>
        <th>Headies Odds</th>
        <th>Harry Stake</th>
        <th>Harry Odds</th>
        <th>Total Stake</th>
        <th>Total Return</th>
        <th>P / L</th>
        <th>Cumulative</th>
        <th>Balance</th>
        <th>Win?</th>
        <th>Winner</th>
        <th>Counts in 10?</th>
        <th>Notes</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>

<script>
(() => {
  const STARTING_CAPITAL = 1000000;

  function tbody(){ return document.querySelector("#tracker tbody"); }
  function pct(n){ return (isFinite(n) ? (n*100).toFixed(0) : "0") + "%"; }

  function addRow(){
    const tr = document.createElement("tr");
    tr.innerHTML = `
      <td></td>
      <td><input type="date"></td>

      <td><input type="number" min="0" inputmode="numeric"></td>
      <td class="odds"><input type="number" step="0.01" min="1" inputmode="decimal" placeholder="e.g. 5"></td>

      <td><input type="number" min="0" inputmode="numeric"></td>
      <td class="odds"><input type="number" step="0.01" min="1" inputmode="decimal" placeholder="e.g. 5"></td>

      <td></td>

      <td><input type="number" min="0" inputmode="numeric"></td>
      <td></td>
      <td></td>
      <td></td>

      <td></td>

      <td>
        <select>
          <option value="">—</option>
          <option value="Headies">Headies</option>
          <option value="Harry">Harry</option>
          <option value="Both">Both</option>
          <option value="None">None</option>
        </select>
      </td>

      <td></td>
      <td class="note"><input placeholder="optional"></td>
    `;

    tbody().appendChild(tr);

    tr.querySelectorAll("input, select").forEach(el => {
      el.addEventListener("input", recalc);
      el.addEventListener("change", recalc);
    });

    recalc();
  }

  function recalc(){
    const rows = document.querySelectorAll("#tracker tbody tr");

    let cumulative = 0;
    let overallWinCount = 0;
    let beCount = 0;
    let playedDays = 0;

    // per-person denominators (days staked)
    let headiesDays = 0;
    let harryDays = 0;

    // per-person wins (from Winner dropdown)
    let headiesWins = 0;
    let harryWins = 0;

    rows.forEach((row, i) => {
      const dateVal = row.cells[1].querySelector("input").value;

      const headiesStake = Number(row.cells[2].querySelector("input").value || 0);
      const harryStake   = Number(row.cells[4].querySelector("input").value || 0);
      const ret          = Number(row.cells[7].querySelector("input").value || 0);

      const stake = headiesStake + harryStake;
      const pnl = ret - stake;

      const isPlayed = !!dateVal || stake > 0 || ret > 0;
      if (isPlayed) playedDays++;

      // denominators: only count days each actually staked
      if (isPlayed && headiesStake > 0) headiesDays++;
      if (isPlayed && harryStake > 0) harryDays++;

      cumulative += pnl;
      const balance = STARTING_CAPITAL + cumulative;

      const isWin = pnl > 0;
      if (isWin) overallWinCount++;

      // breakeven counter based on the first 10 winning days overall
      let countsBE = false;
      if (isWin && overallWinCount <= 10) {
        countsBE = true;
        beCount++;
      }

      // per-person wins come from Winner dropdown (but only if they staked)
      const winner = row.cells[12].querySelector("select").value;

      if (isPlayed) {
        if (winner === "Headies" && headiesStake > 0) headiesWins++;
        if (winner === "Harry" && harryStake > 0) harryWins++;
        if (winner === "Both") {
          if (headiesStake > 0) headiesWins++;
          if (harryStake > 0) harryWins++;
        }
        // None/blank => no increment
      }

      row.cells[0].textContent = i + 1;
      row.cells[6].textContent = stake.toLocaleString();
      row.cells[8].textContent = pnl.toLocaleString();
      row.cells[9].textContent = cumulative.toLocaleString();
      row.cells[10].textContent = balance.toLocaleString();

      row.cells[11].innerHTML = isWin
        ? `<span class="badge win">WIN</span>`
        : `<span class="badge loss">LOSS</span>`;

      row.cells[13].innerHTML = countsBE
        ? `<span class="badge.be badge be">YES</span>`
        : `—`;
    });

    const headiesRate = headiesDays ? (headiesWins / headiesDays) : 0;
    const harryRate   = harryDays ? (harryWins / harryDays) : 0;

    document.getElementById("totalBets").textContent = playedDays;
    document.getElementById("totalWins").textContent = overallWinCount;
    document.getElementById("breakevenWins").textContent = `${beCount} / 10`;
    document.getElementById("currentBalance").textContent =
      (STARTING_CAPITAL + cumulative).toLocaleString();

    document.getElementById("headiesWinRate").textContent = pct(headiesRate);
    document.getElementById("harryWinRate").textContent = pct(harryRate);

    document.getElementById("beBar").style.width =
      Math.min(100, (beCount / 10) * 100) + "%";
  }

  document.addEventListener("DOMContentLoaded", () => {
    document.getElementById("addBtn").addEventListener("click", addRow);
    addRow();
  });

})();
</script>

</body>
</html>
